<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="sr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

    <title>Planinarski klub "Summit Explorers"</title>

    <!-- Bootstrap 4.5 CSS -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">

    <!-- reference CSS file -->
    <link rel="stylesheet" th:href="@{/css/myStyle.css}">

    <!--load all styles -->
    <!--Font Awesome ikonice!-->
    <link th:href="@{/fontAwesome/all.css}" rel="stylesheet">

</head>
<body class="bodyKorisnikBackground">

<!-- Top Bar -->
<div th:replace="fragments/topBar :: topBar1(brojTelefonaKluba=${klub.brojTelefona}, emailKluba=${klub.email})"></div>
<!-- kraj Top Bara -->

<!-- Navigation bar fragment -->
<div th:replace="fragments/navBar :: navBar1"></div>
<!-- Navigation bar fragment END-->

<div class="container" style="background-color: #fff;">
    <div class="col-12 mb-4 pt-3">
        <h1>Registruj Se</h1>
    </div>

    <!--/* POVRATNE PORUKE */-->
    <th:block th:if="${porukaRegistracija}">
        <div class="alert alert-success alert-dismissible fade show ml-3 col-md-8 mb-2" role="alert">
            <span>[[${porukaRegistracija}]] Kliknite <a th:href="@{/loginPage}" class="alert-link">Ovde</a> da biste se prijavili.</span>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </th:block>

    <th:block th:if="${porukaAccExists}">
        <div class="alert alert-danger alert-dismissible fade show ml-3 col-md-7 mb-2" role="alert">
            <span>[[${porukaAccExists}]] Unet email: <span style="font-weight: bold;">[[${unetEmail}]]</span></span>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </th:block>
    <!--/* KRAJ POVRATNE PORUKE */-->

    <div class="col-md-7">
        <form action="#" th:action="@{/newKorisnik/save}" th:object="${registracijaDTO}" method="POST">
            <div class="form-group">
                <label for="ime">Ime:</label>
                <input type="text" th:field="*{ime}" id="ime" placeholder="Unesite Vaše Ime" required class="form-control" th:errorclass="fieldError">
                <ul th:if="${#fields.hasErrors('ime')}">
                    <li th:each="err : ${#fields.errors('ime')}" th:text="${err}" class="errorMsg"></li>
                </ul>
            </div>

            <div class="form-group">
                <label for="prezime">Prezime:</label>
                <input type="text" th:field="*{prezime}" id="prezime" placeholder="Unesite Vaše Prezime" required class="form-control" th:errorclass="fieldError">
                <ul th:if="${#fields.hasErrors('prezime')}">
                    <li th:each="err : ${#fields.errors('prezime')}" th:text="${err}" class="errorMsg"></li>
                </ul>
            </div>

            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" th:field="*{email}" id="email" placeholder="Unesite Vaš Email (mora da bude jedinstven)" required class="form-control" th:errorclass="fieldError">
                <ul th:if="${#fields.hasErrors('email')}">
                    <li th:each="err : ${#fields.errors('email')}" th:text="${err}" class="errorMsg"></li>
                </ul>
            </div>

            <div class="form-group">
                <label for="brojTelefona">Broj telefona:</label>
                <input id="brojTelefona" type="text" th:field="*{brojTelefona}" class="form-control"
                       placeholder="Unesite Vaš Broj Telefona" required="true" th:errorclass="fieldError">
                <ul th:if="${#fields.hasErrors('brojTelefona')}">
                    <li th:each="err : ${#fields.errors('brojTelefona')}" th:text="${err}" class="errorMsg"></li>
                </ul>
            </div>

            <div class="form-group">
                <label for="password">Password:</label>
                <input th:type="password" id="password" th:field="*{password}" class="form-control" placeholder="Unesite password" required th:errorclass="fieldError">
                <ul th:if="${#fields.hasErrors('password')}">
                    <li th:each="err : ${#fields.errors('password')}" th:text="${err}" class="errorMsg"></li>
                </ul>
            </div>

            <div class="form-group">
                <label for="matchingPassword">Ponovite Password:</label>
                <input th:type="password" id="matchingPassword" th:field="*{matchingPassword}" class="form-control" placeholder="Ponovite password koji ste uneli" required th:errorclass="fieldError">
                <ul th:if="${#fields.hasErrors('matchingPassword')}">
                    <li th:each="err : ${#fields.errors('matchingPassword')}" th:text="${err}" class="errorMsg"></li>
                </ul>
            </div>


            <th:block th:if="${#fields.hasErrors('global')}">
                <h5 style="color: red;">Globalne greške:</h5>
                <ul>
                    <li th:each="err : ${#fields.errors('global')}" th:text="${err}" class="errorMsg"></li>
                </ul>
            </th:block>

            <input type="submit" class="btn btn-success" value="Izvrši Registraciju" name="btnIzvrsiRegistraciju">
            <a th:href="@{/index}" class="btn btn-outline-secondary">Odustani</a>

        </form>
    </div>

    <div class="col-md-12" style="height: 2rem;"></div>



</div><!--Kraj container-a -->

<div class="container px-0">
    <!--/* Footer fragment */-->
    <div th:replace="fragments/footer :: footer2(brojTelefonaKluba=${klub.brojTelefona}, emailKluba=${klub.email})"></div>
    <!--/* Footer fragment END */-->
</div>


<!-- Script Source Files -->

<!-- jQuery -->
<script th:src="@{/js/jquery-3.5.1.min.js}"></script>
<!-- Popper JS -->
<script th:src="@{/js/popper.min.js}"></script>
<!-- Bootstrap 4.5 JS -->
<script th:src="@{/js/bootstrap.min.js}"></script>
<!-- Font Awesome -->
<script th:src="@{/js/all.js}"></script>
</body>
</html>